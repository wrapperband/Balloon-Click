<!-- Bubble-Takeover
##  Specification and original idea : Dr A J Doyle
##  Coded by OpenAI Javascript Codex  -->
<!DOCTYPE html>

<html lang="en">
    <head>
        <script>
        document.addEventListener("DOMContentLoaded", function() {

/* Bubble Takeover game has coloured balls on screen */
var balls = [];
for (var i = 0; i < 10; i++) {
  var ball = document.createElement('div');
  ball.style.backgroundColor = 'rgb(' + Math.floor(Math.random() * 255) + ',' + Math.floor(Math.random() * 255) + ',' + Math.floor(Math.random() * 255) + ')';
  ball.style.position = 'absolute';
  ball.style.left = Math.floor(Math.random() * window.innerWidth) + 'px';
  ball.style.top = Math.floor(Math.random() * window.innerHeight) + 'px';
  ball.style.width = '10px';
  ball.style.height = '10px';
  document.body.appendChild(ball);
  balls.push(ball);
}

/* the balls move about */
var lastTime = 0;
function animate() {
  var time = new Date().getTime();
  if (lastTime != 0) {
    var elapsed = time - lastTime;
    for (var i = 0; i < balls.length; i++) {
      var ball = balls[i];
      var x = parseInt(ball.style.left);
      var y = parseInt(ball.style.top);
      x += Math.floor(Math.random() * elapsed) - (elapsed / 2);
      y += Math.floor(Math.random() * elapsed) - (elapsed / 2);
      ball.style.left = x + 'px';
      ball.style.top = y + 'px';
    }
  }
  lastTime = time;
  window.requestAnimationFrame(animate);
}
animate();

/* press the button to make more balls */
var button = document.createElement('button');
button.innerHTML = 'Add more fun';
document.body.appendChild(button);
button.addEventListener('click', function() {
  for (var i = 0; i < 10; i++) {
    var ball = document.createElement('div');
    ball.style.backgroundColor = 'rgb(' + Math.floor(Math.random() * 255) + ',' + Math.floor(Math.random() * 255) + ',' + Math.floor(Math.random() * 255) + ')';
    ball.style.position = 'absolute';
    ball.style.left = Math.floor(Math.random() * window.innerWidth) + 'px';
    ball.style.top = Math.floor(Math.random() * window.innerHeight) + 'px';
    ball.style.width = '10px';
    ball.style.height = '10px';
    document.body.appendChild(ball);
    balls.push(ball);
  }
});

/* push all the balls in a random direction about every 1 minute */
var lastTime = 0;
function animate() {
  var time = new Date().getTime();
  if (lastTime != 0) {
    var elapsed = time - lastTime;
    for (var i = 0; i < balls.length; i++) {
      var ball = balls[i];
      var x = parseInt(ball.style.left);
      var y = parseInt(ball.style.top);
      x += Math.floor(Math.random() * elapsed) - (elapsed / 2);
      y += Math.floor(Math.random() * elapsed) - (elapsed / 2);
      var r = Math.floor(Math.random() * 255);
      var g = Math.floor(Math.random() * 255);
      var b = Math.floor(Math.random() * 255);
      ball.style.backgroundColor = 'rgb(' + r + ',' + g + ',' + b + ')';
      ball.style.left = x + 'px';
      ball.style.top = y + 'px';
      var width = parseInt(ball.style.width);
      var height = parseInt(ball.style.height);
      width += Math.floor(Math.random() * elapsed) - (elapsed / 2);
      height += Math.floor(Math.random() * elapsed) - (elapsed / 2);
      ball.style.width = width + 'px';
      ball.style.height = height + 'px';
    }
  }
  lastTime = time;
  window.setTimeout(animate, 100);
}
animate();

});
        </script>
    </head>
</html>
